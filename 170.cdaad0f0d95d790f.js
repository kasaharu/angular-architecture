"use strict";(self.webpackChunkangular_architecture=self.webpackChunkangular_architecture||[]).push([[170],{9170:(Je,$,c)=>{c.r($),c.d($,{default:()=>Ye});var k=c(6814),o=c(2029),ne=c(9085);function re(r,e){if(1&r){const t=o.EpF();o.TgZ(0,"li")(1,"a",6)(2,"span",7),o._uU(3),o.qZA(),o._uU(4),o.qZA(),o.TgZ(5,"button",8),o.NdJ("click",function(){const i=o.CHM(t).$implicit,l=o.oxw();return o.KtG(l.onClickDeleteButton(i))}),o._uU(6,"x"),o.qZA()()}if(2&r){const t=e.$implicit;o.xp6(1),o.MGl("routerLink","/detail/",t.id,""),o.xp6(2),o.Oqu(t.id),o.xp6(1),o.hij(" ",t.name," ")}}let se=(()=>{class r{constructor(){this.heroes=null,this.heroAdded=new o.vpe,this.heroDeleted=new o.vpe}onClickAddButton(t){this.heroAdded.emit(t)}onClickDeleteButton(t){this.heroDeleted.emit(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-ly-heroes"]],inputs:{heroes:"heroes"},outputs:{heroAdded:"heroAdded",heroDeleted:"heroDeleted"},standalone:!0,features:[o.jDz],decls:11,vars:1,consts:[["for","new-hero"],["id","new-hero"],["heroName",""],["type","button",1,"add-button",3,"click"],[1,"heroes"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"badge"],["type","button","title","delte hero",1,"delete",3,"click"]],template:function(t,n){if(1&t){const s=o.EpF();o.TgZ(0,"h2"),o._uU(1,"My Heroes"),o.qZA(),o.TgZ(2,"div")(3,"label",0),o._uU(4,"Hero name: "),o.qZA(),o._UZ(5,"input",1,2),o.TgZ(7,"button",3),o.NdJ("click",function(){o.CHM(s);const l=o.MAs(6);return o.KtG(n.onClickAddButton(l.value))}),o._uU(8,"Add hero"),o.qZA()(),o.TgZ(9,"ul",4),o.YNc(10,re,7,3,"li",5),o.qZA()}2&t&&(o.xp6(10),o.Q6J("ngForOf",n.heroes))},dependencies:[k.sg,ne.rH],styles:[".heroes[_ngcontent-%COMP%]{margin:0 0 2em;list-style-type:none;padding:0;width:15em}input[_ngcontent-%COMP%]{display:block;width:100%;padding:.5rem;margin:1rem 0;box-sizing:border-box}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;cursor:pointer}.heroes[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{left:.1em}.heroes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none;background-color:#eee;margin:.5em;padding:.3em 0;height:1.6em;border-radius:4px;display:block;width:100%}.heroes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#2c3a41;background-color:#e6e6e6}.heroes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{background-color:#525252;color:#fafafa}.heroes[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;font-size:small;color:#fff;padding:.8em .7em 0;background-color:#405061;line-height:1em;position:relative;left:-1px;top:-4px;height:1.8em;min-width:16px;text-align:right;margin-right:.8em;border-radius:4px 0 0 4px}.add-button[_ngcontent-%COMP%]{padding:.5rem 1.5rem;font-size:1rem;margin-bottom:2rem}.add-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:#42545c}button.delete[_ngcontent-%COMP%]{position:absolute;left:210px;top:5px;background-color:#fff;color:#525252;font-size:1.1rem;margin:0;padding:1px 10px 3px}button.delete[_ngcontent-%COMP%]:hover{background-color:#525252;color:#fff}"]}),r})();var w=c(9671),oe=c(5592),j=c(7394);class ie extends j.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const v={setInterval(r,e,...t){const{delegate:n}=v;return n?.setInterval?n.setInterval(r,e,...t):setInterval(r,e,...t)},clearInterval(r){const{delegate:e}=v;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};var le=c(9039);class V extends ie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var n;if(this.closed)return this;this.state=e;const s=this.id,i=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(i,s,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return v.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&v.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,n=!1;try{this.work(e)}catch(i){n=!0,s=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(n,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}let A,ce=1;const y={};function F(r){return r in y&&(delete y[r],!0)}const ue={setImmediate(r){const e=ce++;return y[e]=!0,A||(A=Promise.resolve()),A.then(()=>F(e)&&r()),e},clearImmediate(r){F(r)}},{setImmediate:ae,clearImmediate:de}=ue,S={setImmediate(...r){const{delegate:e}=S;return(e?.setImmediate||ae)(...r)},clearImmediate(r){const{delegate:e}=S;return(e?.clearImmediate||de)(r)},delegate:void 0},x={now:()=>(x.delegate||Date).now(),delegate:void 0};class p{constructor(e,t=p.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,n){return new this.schedulerActionCtor(this,e).schedule(n,t)}}p.now=x.now;class N extends p{constructor(e,t=p.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const U=new class fe extends N{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let s;e=e||n.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,s){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw s}}}(class he extends V{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e._scheduled||(e._scheduled=S.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,n=0){var s;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(e,t,n);const{actions:i}=e;null!=t&&(null===(s=i[i.length-1])||void 0===s?void 0:s.id)!==t&&(S.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});var z=c(8645);class P extends z.x{constructor(e=1/0,t=1/0,n=x){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:n,_infiniteTimeWindow:s,_timestampProvider:i,_windowTime:l}=this;t||(n.push(e),!s&&n.push(i.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:s}=this,i=s.slice();for(let l=0;l<i.length&&!e.closed;l+=n?1:2)e.next(i[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:s}=this,i=(s?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!s){const l=t.now();let a=0;for(let u=1;u<n.length&&n[u]<=l;u+=2)a=u;a&&n.splice(0,a+1)}}}var L=c(7258),Z=c(2096);const W=new class ge extends N{}(class pe extends V{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!=n&&n>0||null==n&&this.delay>0?super.requestAsyncId(e,t,n):(e.flush(this),0)}});var me=c(6232),ve=c(8504),ye=c(5154),Se=c(2572),g=c(9773),be=c(3093),G=c(9397),Ce=c(9360),q=c(8251),Ie=c(4829),we=c(2737),Ae=c(2420),xe=c(4564),B=c(7398),Me=c(6306),He=c(8180),Oe=c(3997),Re=c(3020);class $e extends Error{constructor(e,t){super(function ke(r,e){return`NG0${Math.abs(r)}${e?": "+e:""}`}(e,t)),this.code=e}}function _(r,e){const t=!e?.manualCleanup;t&&!e?.injector&&(0,o.gHi)(_);const n=t?e?.injector?.get(o.ktI)??(0,o.f3M)(o.ktI):null;let s;s=(0,o.tdS)(e?.requireSync?{kind:0}:{kind:1,value:e?.initialValue});const i=r.subscribe({next:l=>s.set({kind:1,value:l}),error:l=>s.set({kind:2,error:l})});return n?.onDestroy(i.unsubscribe.bind(i)),(0,o.Flj)(()=>{const l=s();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new $e(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}function D(r){return"function"==typeof r.ngrxOnStoreInit}function T(r){return"function"==typeof r.ngrxOnStateInit}globalThis;const Ze=new o.OlP("@ngrx/component-store Initial State");let We=(()=>{class r{constructor(t){this.destroySubject$=new P(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new P(1),this.isInitialized=!1,this.state$=this.select(n=>n),this.state=_(this.stateSubject$.pipe((0,g.R)(this.destroy$)),{requireSync:!1,manualCleanup:!0}),this.\u0275hasProvider=!1,t&&this.initState(t),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(t){return n=>{let i,s=!0;const a=((0,L.b)(n)?n:(0,Z.of)(n)).pipe((0,be.Q)(W),(0,G.b)(()=>this.assertStateIsInitialized()),function Pe(...r){const e=(0,xe.jO)(r);return(0,Ce.e)((t,n)=>{const s=r.length,i=new Array(s);let l=r.map(()=>!1),a=!1;for(let u=0;u<s;u++)(0,Ie.Xf)(r[u]).subscribe((0,q.x)(n,h=>{i[u]=h,!a&&!l[u]&&(l[u]=!0,(a=l.every(we.y))&&(l=null))},Ae.Z));t.subscribe((0,q.x)(n,u=>{if(a){const h=[u,...i];n.next(e?e(...h):h)}}))})}(this.stateSubject$),(0,B.U)(([u,h])=>t(h,u)),(0,G.b)(u=>this.stateSubject$.next(u)),(0,Me.K)(u=>s?(i=u,me.E):(0,ve._)(u)),(0,g.R)(this.destroy$)).subscribe();if(i)throw i;return s=!1,a}}initState(t){(0,ye.x)([t],W).subscribe(n=>{this.isInitialized=!0,this.stateSubject$.next(n)})}setState(t){"function"!=typeof t?this.initState(t):this.updater(t)()}patchState(t){const n="function"==typeof t?t(this.get()):t;this.updater((s,i)=>({...s,...i}))(n)}get(t){let n;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,He.q)(1)).subscribe(s=>{n=t?t(s):s}),n}select(...t){const{observablesOrSelectorsObject:n,projector:s,config:i}=function Ge(r){const e=Array.from(r);let n={debounce:!1,equal:(l,a)=>l===a};if(function qe(r){return typeof r.debounce<"u"||typeof r.equal<"u"}(e[e.length-1])&&(n={...n,...e.pop()}),1===e.length&&"function"!=typeof e[0])return{observablesOrSelectorsObject:e[0],projector:void 0,config:n};const s=e.pop();return{observablesOrSelectorsObject:e,projector:s,config:n}}(t);return(function Be(r,e){return Array.isArray(r)&&0===r.length&&e}(n,s)?this.stateSubject$:(0,Se.a)(n)).pipe(i.debounce?function Le(){return r=>new oe.y(e=>{let t,n;const s=new j.w0;return s.add(r.subscribe({complete:()=>{t&&e.next(n),e.complete()},error:i=>{e.error(i)},next:i=>{n=i,t||(t=U.schedule(()=>{e.next(n),t=void 0}),s.add(t))}})),s})}():r=>r,s?(0,B.U)(a=>n.length>0&&Array.isArray(a)?s(...a):s(a)):r=>r,(0,Oe.x)(i.equal),function De(r,e,t){let n,s=!1;return r&&"object"==typeof r?({bufferSize:n=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=r):n=r??1/0,(0,Re.B)({connector:()=>new P(n,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}({refCount:!0,bufferSize:1}),(0,g.R)(this.destroy$))}selectSignal(...t){const n=[...t],s=(h,E)=>h===E,i="object"==typeof n[t.length-1]?{equal:n.pop().equal||s}:{equal:s},l=n.pop(),a=n;return(0,o.Flj)(0===a.length?()=>l(this.state()):()=>{const h=a.map(E=>E());return l(...h)},i)}effect(t){const n=new z.x;return t(n).pipe((0,g.R)(this.destroy$)).subscribe(),s=>((0,L.b)(s)?s:(0,Z.of)(s)).pipe((0,g.R)(this.destroy$)).subscribe(l=>{n.next(l)})}checkProviderForHooks(){U.schedule(()=>{if((0,o.X6Q)()&&(D(this)||T(this))&&!this.\u0275hasProvider){const t=[D(this)?"OnStoreInit":"",T(this)?"OnStateInit":""].filter(n=>n);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${t.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(Ze,8))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();var m=c(4036),Qe=c(722);let te=(()=>{class r extends We{constructor(t){super({heroes:[]}),this._heroService=t,this.heroes$=this.select(n=>n.heroes),this.setHeroes=this.updater((n,s)=>({...n,heroes:s}))}getHeroes(){var t=this;return(0,w.Z)(function*(){const n=yield(0,m.z)(t._heroService.getHeroes());t.setHeroes(n)})()}addHero(t){var n=this;return(0,w.Z)(function*(){if(!(t=t.trim()))return;const s=yield(0,m.z)(n._heroService.addHero({name:t})),i=yield(0,m.z)(n.heroes$);n.setHeroes(i.concat(s))})()}deleteHero(t){var n=this;return(0,w.Z)(function*(){yield(0,m.z)(n._heroService.deleteHero(t.id));const s=yield(0,m.z)(n.heroes$);n.setHeroes(s.filter(i=>i!==t))})()}}return r.\u0275fac=function(t){return new(t||r)(o.LFG(Qe.E))},r.\u0275prov=o.Yz7({token:r,factory:r.\u0275fac}),r})();const Ye=(()=>{class r{constructor(t){this._componentStore=t,this.heroes$=this._componentStore.heroes$}ngOnInit(){this.getHeroes()}getHeroes(){this._componentStore.getHeroes()}addHero(t){this._componentStore.addHero(t)}deleteHero(t){this._componentStore.deleteHero(t)}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(te))},r.\u0275cmp=o.Xpm({type:r,selectors:[["ng-component"]],standalone:!0,features:[o._Bn([te]),o.jDz],decls:2,vars:3,consts:[[3,"heroes","heroAdded","heroDeleted"]],template:function(t,n){1&t&&(o.TgZ(0,"app-ly-heroes",0),o.NdJ("heroAdded",function(i){return n.addHero(i)})("heroDeleted",function(i){return n.deleteHero(i)}),o.ALo(1,"async"),o.qZA()),2&t&&o.Q6J("heroes",o.lcZ(1,1,n.heroes$))},dependencies:[k.Ov,se],encapsulation:2}),r})()}}]);