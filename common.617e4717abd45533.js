"use strict";(self.webpackChunkangular_architecture=self.webpackChunkangular_architecture||[]).push([[592],{722:(c,d,t)=>{t.d(d,{E:()=>a});var _=t(9862),o=t(9397),h=t(6306),l=t(2096),i=t(9212),p=t(3354);let a=(()=>{var s;class n{constructor(e,r){this._http=e,this._messageService=r,this._heroesUrl="api/heroes",this.httpOptions={headers:new _.WM({"Content-Type":"application/json"})}}getHeroes(){return this._http.get(this._heroesUrl).pipe((0,o.b)(()=>this.log("fetched heroes")),(0,h.K)(this.handleError("getHeroes")))}getHero(e){return this._http.get(`${this._heroesUrl}/${e}`).pipe((0,o.b)(()=>this.log(`fetched hero id=${e}`)),(0,h.K)(this.handleError(`getHero id=${e}`)))}updateHero(e){return this._http.put(this._heroesUrl,e,this.httpOptions).pipe((0,o.b)(()=>this.log(`updated hero id=${e.id}`)),(0,h.K)(this.handleError("updateHero")))}addHero(e){return this._http.post(this._heroesUrl,e,this.httpOptions).pipe((0,o.b)(r=>this.log(`added hero w/ id=${r.id}`)),(0,h.K)(this.handleError("addHero")))}deleteHero(e){return this._http.delete(`${this._heroesUrl}/${e}`,this.httpOptions).pipe((0,o.b)(()=>this.log(`deleted hero id=${e}`)),(0,h.K)(this.handleError("deleteHero")))}searchHeroes(e){return e.trim()?this._http.get(`${this._heroesUrl}/?name=${e}`).pipe((0,o.b)(()=>this.log(`found heroes matching "${e}"`)),(0,h.K)(this.handleError("searchHeroes"))):(0,l.of)([])}log(e){this._messageService.add(`HeroService: ${e}`)}handleError(e){return r=>{throw console.error(r),new Error(`${e} failed: server returned code ${r.status} with body "${r.error}"`)}}}return(s=n).\u0275fac=function(e){return new(e||s)(i.LFG(_.eN),i.LFG(p.e))},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),n})()},4036:(c,d,t)=>{t.d(d,{z:()=>h});var _=t(6973),o=t(305);function h(l,i){const p="object"==typeof i;return new Promise((a,s)=>{const n=new o.Hp({next:u=>{a(u),n.unsubscribe()},error:s,complete:()=>{p?a(i.defaultValue):s(new _.K)}});l.subscribe(n)})}}}]);