"use strict";(self.webpackChunkangular_architecture=self.webpackChunkangular_architecture||[]).push([[312],{5600:(p,_,r)=>{r.d(_,{S:()=>n});var a=r(7048),s=r(9212),o=r(9144),d=r(2700),i=r(4496),l=r(5040);let n=(()=>{class h{constructor(e,t){this._http=e,this._messageService=t,this._heroesUrl="api/heroes",this.httpOptions={headers:new a.UD({"Content-Type":"application/json"})}}getHeroes(){return this._http.get(this._heroesUrl).pipe((0,s.y)(()=>this.log("fetched heroes")),(0,o.a)(this.handleError("getHeroes")))}getHero(e){return this._http.get(`${this._heroesUrl}/${e}`).pipe((0,s.y)(()=>this.log(`fetched hero id=${e}`)),(0,o.a)(this.handleError(`getHero id=${e}`)))}updateHero(e){return this._http.put(this._heroesUrl,e,this.httpOptions).pipe((0,s.y)(()=>this.log(`updated hero id=${e.id}`)),(0,o.a)(this.handleError("updateHero")))}addHero(e){return this._http.post(this._heroesUrl,e,this.httpOptions).pipe((0,s.y)(t=>this.log(`added hero w/ id=${t.id}`)),(0,o.a)(this.handleError("addHero")))}deleteHero(e){return this._http.delete(`${this._heroesUrl}/${e}`,this.httpOptions).pipe((0,s.y)(()=>this.log(`deleted hero id=${e}`)),(0,o.a)(this.handleError("deleteHero")))}searchHeroes(e){return e.trim()?this._http.get(`${this._heroesUrl}/?name=${e}`).pipe((0,s.y)(()=>this.log(`found heroes matching "${e}"`)),(0,o.a)(this.handleError("searchHeroes"))):(0,d.of)([])}log(e){this._messageService.add(`HeroService: ${e}`)}handleError(e){return t=>{throw console.error(t),new Error(`${e} failed: server returned code ${t.status} with body "${t.error}"`)}}static#e=this.\u0275fac=function(t){return new(t||h)(i.CoB(a.KK),i.CoB(l.m))};static#t=this.\u0275prov=i.wxM({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},8907:(p,_,r)=>{r.d(_,{S:()=>o});var a=r(7696),s=r(1760);function o(d,i){const l="object"==typeof i;return new Promise((n,h)=>{const u=new s.ot({next:e=>{n(e),u.unsubscribe()},error:h,complete:()=>{l?n(i.defaultValue):h(new a.G)}});d.subscribe(u)})}}}]);